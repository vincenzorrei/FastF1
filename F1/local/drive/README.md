# F1/local/drive - Simulated Cloud Drive

This directory simulates a cloud storage structure (like Google Drive) for the `F1/local/` development environment. It holds all data inputs, outputs, intermediate files, artifacts, and logs generated by the pipeline.

## Subdirectories

-   **`artifacts/`**:
    -   Stores serialized Python objects that are artifacts of the data preprocessing and feature engineering stages. These are typically reused in later stages or during inference.
    -   Examples:
        -   `encoders.pkl`: Saved `sklearn.preprocessing.LabelEncoder` objects for categorical features.
        -   `scaler.pkl`: Saved `sklearn.preprocessing.RobustScaler` object for numerical features.
        -   `feature_columns.joblib`: List of feature column names used as input to the RNN model.
        -   `imputer_values.json`: Dictionary of values (e.g., medians) used for imputing missing data.

-   **`evaluation_reports/`**:
    -   Contains reports and visualizations generated during model evaluation.
    -   `pipeline_test_set/`: Reports specifically from the final evaluation step in `run_pipeline.py`.
        -   `evaluation_report_finaltestset.json`: JSON file with detailed metrics for primary and secondary tasks.
        -   `evaluation_plots_finaltestset.png`: Image file with ROC curve, PR curve, confusion matrix, etc.

-   **`logs/`**:
    -   General-purpose directory for logs from various pipeline scripts.
    -   `training_logs/`: Specific logs related to model training.
        -   Contains TensorBoard event files for visualizing training progress (loss, metrics over epochs).
        -   `training_summary.json`: A JSON summary of the training process, including final metrics and configuration used.
    -   Other logs like `consolidate_data.log` (from `F1/local/logs/`) might also be conceptually part of this if a unified logging strategy to `drive/logs` is adopted.

-   **`model_input/`**:
    -   Stores the final datasets prepared for direct input into the RNN model. These are typically NumPy arrays (`.npy` files).
    -   Examples:
        -   `X_train.npy`, `X_val.npy`, `X_test.npy`: Sequences of input features.
        -   `y_change_train.npy`, `y_change_val.npy`, `y_change_test.npy`: Target labels for the tire change prediction task.
        -   `y_type_train.npy`, `y_type_val.npy`, `y_type_test.npy`: Target labels for the tire compound type prediction task.

-   **`models/`**:
    -   Stores saved model checkpoints and the final trained model.
    -   Examples:
        -   `best_model.pth`: The model checkpoint that achieved the best performance on the validation set during training.
        -   `checkpoint_epoch_X.pth`: Periodic checkpoints saved during training.

-   **`processed_data/`**:
    -   Contains the consolidated and cleaned dataset after initial processing of raw data.
    -   `dataset.parquet`: The main DataFrame containing data from multiple races, ready for feature engineering.
    -   `consolidation_report.txt`: A text file summarizing the data consolidation process.

-   **`raw_data/`**:
    -   Stores the raw data as fetched by FastF1, typically organized by year and session.
    -   Example structure: `YYYY/SessionName/EventName_SessionType_data.parquet`.
    -   These are the direct outputs of the `F1/local/src/data_extraction/fetch_fastf1_data.py` script.

## Files at `drive/` root:

-   **`data_download_log.csv`**:
    -   A CSV file that logs the status of data extraction attempts for each race session.
    -   Columns include `Year`, `EventName`, `SessionType`, `DownloadTimestamp`, `Status`, `FilePath`, etc.
    -   Managed by `F1/local/src/data_extraction/fetch_fastf1_data.py`.

## Purpose

This directory structure helps in:
-   Organizing the data lifecycle from raw to model-ready.
-   Persisting intermediate results to avoid re-computation.
-   Storing reusable artifacts for consistency (e.g., encoders for inference).
-   Keeping logs and model outputs for tracking and analysis.

When transitioning to a cloud environment (e.g., Google Colab with Google Drive), this local `drive/` structure can serve as a template for organizing files on the actual cloud storage.
